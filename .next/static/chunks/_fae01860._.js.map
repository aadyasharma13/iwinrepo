{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/aadyasharma/Downloads/iwin-main/lib/postsService.js"],"sourcesContent":["import {\n  collection,\n  doc,\n  addDoc,\n  updateDoc,\n  deleteDoc,\n  getDocs,\n  getDoc,\n  query,\n  orderBy,\n  where,\n  limit,\n  startAfter,\n  arrayUnion,\n  arrayRemove,\n  increment,\n  onSnapshot,\n} from \"firebase/firestore\";\nimport { db } from \"./firebase\";\n\nexport const postsService = {\n  // Create a new post\n  async createPost(postData) {\n    try {\n      const docRef = await addDoc(collection(db, \"posts\"), {\n        content: postData.content,\n        authorId: postData.authorId,\n        tags: postData.tags || [],\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        likes: [],\n        likesCount: 0,\n        commentsCount: 0,\n        sharesCount: 0,\n      });\n\n      return { success: true, id: docRef.id };\n    } catch (error) {\n      console.error(\"Error creating post:\", error);\n      return { success: false, error: error.message };\n    }\n  },\n\n  // Get posts with pagination\n  async getPosts(lastPostDoc = null, limitCount = 10, filterBy = null) {\n    try {\n      let q = query(\n        collection(db, \"posts\"),\n        orderBy(\"createdAt\", \"desc\"),\n        limit(limitCount)\n      );\n\n      // Note: For role filtering, we'll need to fetch all posts and filter on client side\n      // since we're not storing role in posts anymore\n      if (lastPostDoc) {\n        q = query(q, startAfter(lastPostDoc));\n      }\n\n      const snapshot = await getDocs(q);\n      const posts = [];\n\n      snapshot.forEach((doc) => {\n        posts.push({ id: doc.id, ...doc.data() });\n      });\n\n      return {\n        success: true,\n        posts,\n        lastDoc: snapshot.docs[snapshot.docs.length - 1],\n      };\n    } catch (error) {\n      console.error(\"Error fetching posts:\", error);\n      return { success: false, error: error.message };\n    }\n  },\n\n  // Get user's posts\n  async getUserPosts(userId) {\n    try {\n      const q = query(\n        collection(db, \"posts\"),\n        where(\"authorId\", \"==\", userId),\n        orderBy(\"createdAt\", \"desc\")\n      );\n\n      const snapshot = await getDocs(q);\n      const posts = [];\n\n      snapshot.forEach((doc) => {\n        posts.push({ id: doc.id, ...doc.data() });\n      });\n\n      return { success: true, posts };\n    } catch (error) {\n      console.error(\"Error fetching user posts:\", error);\n      return { success: false, error: error.message };\n    }\n  },\n\n  // Update post\n  async updatePost(postId, updateData) {\n    try {\n      await updateDoc(doc(db, \"posts\", postId), {\n        ...updateData,\n        updatedAt: new Date().toISOString(),\n      });\n\n      return { success: true };\n    } catch (error) {\n      console.error(\"Error updating post:\", error);\n      return { success: false, error: error.message };\n    }\n  },\n\n  // Delete post\n  async deletePost(postId) {\n    try {\n      // Delete all comments for this post first\n      const commentsQuery = query(\n        collection(db, \"comments\"),\n        where(\"postId\", \"==\", postId)\n      );\n      const commentsSnapshot = await getDocs(commentsQuery);\n\n      const deletePromises = commentsSnapshot.docs.map((commentDoc) =>\n        deleteDoc(doc(db, \"comments\", commentDoc.id))\n      );\n      await Promise.all(deletePromises);\n\n      // Then delete the post\n      await deleteDoc(doc(db, \"posts\", postId));\n\n      return { success: true };\n    } catch (error) {\n      console.error(\"Error deleting post:\", error);\n      return { success: false, error: error.message };\n    }\n  },\n\n  // Like/Unlike post\n  async toggleLike(postId, userId) {\n    try {\n      const postRef = doc(db, \"posts\", postId);\n      const postDoc = await getDoc(postRef);\n\n      if (!postDoc.exists()) {\n        return { success: false, error: \"Post not found\" };\n      }\n\n      const postData = postDoc.data();\n      const likes = postData.likes || [];\n      const isLiked = likes.includes(userId);\n\n      if (isLiked) {\n        // Unlike\n        await updateDoc(postRef, {\n          likes: arrayRemove(userId),\n          likesCount: increment(-1),\n        });\n      } else {\n        // Like\n        await updateDoc(postRef, {\n          likes: arrayUnion(userId),\n          likesCount: increment(1),\n        });\n      }\n\n      return { success: true, isLiked: !isLiked };\n    } catch (error) {\n      console.error(\"Error toggling like:\", error);\n      return { success: false, error: error.message };\n    }\n  },\n\n  // Add comment\n  async addComment(postId, commentData) {\n    try {\n      const docRef = await addDoc(collection(db, \"comments\"), {\n        content: commentData.content,\n        authorId: commentData.authorId,\n        postId,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n      });\n\n      // Increment comments count on post\n      await updateDoc(doc(db, \"posts\", postId), {\n        commentsCount: increment(1),\n      });\n\n      return { success: true, id: docRef.id };\n    } catch (error) {\n      console.error(\"Error adding comment:\", error);\n      return { success: false, error: error.message };\n    }\n  },\n\n  // Get comments for post\n  async getComments(postId) {\n    try {\n      const q = query(\n        collection(db, \"comments\"),\n        where(\"postId\", \"==\", postId),\n        orderBy(\"createdAt\", \"asc\")\n      );\n\n      const snapshot = await getDocs(q);\n      const comments = [];\n\n      snapshot.forEach((doc) => {\n        comments.push({ id: doc.id, ...doc.data() });\n      });\n\n      return { success: true, comments };\n    } catch (error) {\n      console.error(\"Error fetching comments:\", error);\n      return { success: false, error: error.message };\n    }\n  },\n\n  // Update comment\n  async updateComment(commentId, updateData) {\n    try {\n      await updateDoc(doc(db, \"comments\", commentId), {\n        ...updateData,\n        updatedAt: new Date().toISOString(),\n      });\n\n      return { success: true };\n    } catch (error) {\n      console.error(\"Error updating comment:\", error);\n      return { success: false, error: error.message };\n    }\n  },\n\n  // Delete comment\n  async deleteComment(commentId, postId) {\n    try {\n      await deleteDoc(doc(db, \"comments\", commentId));\n\n      // Decrement comments count on post\n      await updateDoc(doc(db, \"posts\", postId), {\n        commentsCount: increment(-1),\n      });\n\n      return { success: true };\n    } catch (error) {\n      console.error(\"Error deleting comment:\", error);\n      return { success: false, error: error.message };\n    }\n  },\n};\n"],"names":[],"mappings":";;;AAAA;AAAA;AAkBA;;;AAEO,MAAM,eAAe;IAC1B,oBAAoB;IACpB,MAAM,YAAW,QAAQ;QACvB,IAAI;YACF,MAAM,SAAS,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,UAAU;gBACnD,SAAS,SAAS,OAAO;gBACzB,UAAU,SAAS,QAAQ;gBAC3B,MAAM,SAAS,IAAI,IAAI,EAAE;gBACzB,WAAW,IAAI,OAAO,WAAW;gBACjC,WAAW,IAAI,OAAO,WAAW;gBACjC,OAAO,EAAE;gBACT,YAAY;gBACZ,eAAe;gBACf,aAAa;YACf;YAEA,OAAO;gBAAE,SAAS;gBAAM,IAAI,OAAO,EAAE;YAAC;QACxC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,OAAO;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC;QAChD;IACF;IAEA,4BAA4B;IAC5B,MAAM,UAAS,cAAc,IAAI,EAAE,aAAa,EAAE,EAAE,WAAW,IAAI;QACjE,IAAI;YACF,IAAI,IAAI,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EACV,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,UACf,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE,aAAa,SACrB,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EAAE;YAGR,oFAAoF;YACpF,gDAAgD;YAChD,IAAI,aAAa;gBACf,IAAI,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EAAE,GAAG,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE;YAC1B;YAEA,MAAM,WAAW,MAAM,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE;YAC/B,MAAM,QAAQ,EAAE;YAEhB,SAAS,OAAO,CAAC,CAAC;gBAChB,MAAM,IAAI,CAAC;oBAAE,IAAI,IAAI,EAAE;oBAAE,GAAG,IAAI,IAAI,EAAE;gBAAC;YACzC;YAEA,OAAO;gBACL,SAAS;gBACT;gBACA,SAAS,SAAS,IAAI,CAAC,SAAS,IAAI,CAAC,MAAM,GAAG,EAAE;YAClD;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;YACvC,OAAO;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC;QAChD;IACF;IAEA,mBAAmB;IACnB,MAAM,cAAa,MAAM;QACvB,IAAI;YACF,MAAM,IAAI,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EACZ,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,UACf,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EAAE,YAAY,MAAM,SACxB,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE,aAAa;YAGvB,MAAM,WAAW,MAAM,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE;YAC/B,MAAM,QAAQ,EAAE;YAEhB,SAAS,OAAO,CAAC,CAAC;gBAChB,MAAM,IAAI,CAAC;oBAAE,IAAI,IAAI,EAAE;oBAAE,GAAG,IAAI,IAAI,EAAE;gBAAC;YACzC;YAEA,OAAO;gBAAE,SAAS;gBAAM;YAAM;QAChC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,OAAO;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC;QAChD;IACF;IAEA,cAAc;IACd,MAAM,YAAW,MAAM,EAAE,UAAU;QACjC,IAAI;YACF,MAAM,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,SAAS,SAAS;gBACxC,GAAG,UAAU;gBACb,WAAW,IAAI,OAAO,WAAW;YACnC;YAEA,OAAO;gBAAE,SAAS;YAAK;QACzB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,OAAO;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC;QAChD;IACF;IAEA,cAAc;IACd,MAAM,YAAW,MAAM;QACrB,IAAI;YACF,0CAA0C;YAC1C,MAAM,gBAAgB,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EACxB,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,aACf,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EAAE,UAAU,MAAM;YAExB,MAAM,mBAAmB,MAAM,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE;YAEvC,MAAM,iBAAiB,iBAAiB,IAAI,CAAC,GAAG,CAAC,CAAC,aAChD,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,YAAY,WAAW,EAAE;YAE7C,MAAM,QAAQ,GAAG,CAAC;YAElB,uBAAuB;YACvB,MAAM,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,SAAS;YAEjC,OAAO;gBAAE,SAAS;YAAK;QACzB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,OAAO;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC;QAChD;IACF;IAEA,mBAAmB;IACnB,MAAM,YAAW,MAAM,EAAE,MAAM;QAC7B,IAAI;YACF,MAAM,UAAU,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,SAAS;YACjC,MAAM,UAAU,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE;YAE7B,IAAI,CAAC,QAAQ,MAAM,IAAI;gBACrB,OAAO;oBAAE,SAAS;oBAAO,OAAO;gBAAiB;YACnD;YAEA,MAAM,WAAW,QAAQ,IAAI;YAC7B,MAAM,QAAQ,SAAS,KAAK,IAAI,EAAE;YAClC,MAAM,UAAU,MAAM,QAAQ,CAAC;YAE/B,IAAI,SAAS;gBACX,SAAS;gBACT,MAAM,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,SAAS;oBACvB,OAAO,CAAA,GAAA,sKAAA,CAAA,cAAW,AAAD,EAAE;oBACnB,YAAY,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,CAAC;gBACzB;YACF,OAAO;gBACL,OAAO;gBACP,MAAM,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,SAAS;oBACvB,OAAO,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE;oBAClB,YAAY,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE;gBACxB;YACF;YAEA,OAAO;gBAAE,SAAS;gBAAM,SAAS,CAAC;YAAQ;QAC5C,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,OAAO;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC;QAChD;IACF;IAEA,cAAc;IACd,MAAM,YAAW,MAAM,EAAE,WAAW;QAClC,IAAI;YACF,MAAM,SAAS,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,aAAa;gBACtD,SAAS,YAAY,OAAO;gBAC5B,UAAU,YAAY,QAAQ;gBAC9B;gBACA,WAAW,IAAI,OAAO,WAAW;gBACjC,WAAW,IAAI,OAAO,WAAW;YACnC;YAEA,mCAAmC;YACnC,MAAM,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,SAAS,SAAS;gBACxC,eAAe,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE;YAC3B;YAEA,OAAO;gBAAE,SAAS;gBAAM,IAAI,OAAO,EAAE;YAAC;QACxC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;YACvC,OAAO;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC;QAChD;IACF;IAEA,wBAAwB;IACxB,MAAM,aAAY,MAAM;QACtB,IAAI;YACF,MAAM,IAAI,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EACZ,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,aACf,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EAAE,UAAU,MAAM,SACtB,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE,aAAa;YAGvB,MAAM,WAAW,MAAM,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE;YAC/B,MAAM,WAAW,EAAE;YAEnB,SAAS,OAAO,CAAC,CAAC;gBAChB,SAAS,IAAI,CAAC;oBAAE,IAAI,IAAI,EAAE;oBAAE,GAAG,IAAI,IAAI,EAAE;gBAAC;YAC5C;YAEA,OAAO;gBAAE,SAAS;gBAAM;YAAS;QACnC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,OAAO;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC;QAChD;IACF;IAEA,iBAAiB;IACjB,MAAM,eAAc,SAAS,EAAE,UAAU;QACvC,IAAI;YACF,MAAM,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,YAAY,YAAY;gBAC9C,GAAG,UAAU;gBACb,WAAW,IAAI,OAAO,WAAW;YACnC;YAEA,OAAO;gBAAE,SAAS;YAAK;QACzB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,OAAO;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC;QAChD;IACF;IAEA,iBAAiB;IACjB,MAAM,eAAc,SAAS,EAAE,MAAM;QACnC,IAAI;YACF,MAAM,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,YAAY;YAEpC,mCAAmC;YACnC,MAAM,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,SAAS,SAAS;gBACxC,eAAe,CAAA,GAAA,sKAAA,CAAA,YAAS,AAAD,EAAE,CAAC;YAC5B;YAEA,OAAO;gBAAE,SAAS;YAAK;QACzB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,OAAO;gBAAE,SAAS;gBAAO,OAAO,MAAM,OAAO;YAAC;QAChD;IACF;AACF","debugId":null}},
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///Users/aadyasharma/Downloads/iwin-main/lib/userService.js"],"sourcesContent":["import {\n  doc,\n  getDoc,\n  collection,\n  query,\n  where,\n  getDocs,\n} from \"firebase/firestore\";\nimport { db } from \"./firebase\";\n\n// Cache for user data to avoid repeated fetches\nconst userCache = new Map();\nconst CACHE_DURATION = 5 * 60 * 1000; // 5 minutes\n\nexport const userService = {\n  // Get user data by UID\n  async getUserData(uid) {\n    if (!uid) return null;\n\n    // Check cache first\n    const cached = userCache.get(uid);\n    if (cached && Date.now() - cached.timestamp < CACHE_DURATION) {\n      return cached.data;\n    }\n\n    try {\n      const userDoc = await getDoc(doc(db, \"users\", uid));\n      if (userDoc.exists()) {\n        const userData = { uid, ...userDoc.data() };\n\n        // Cache the result\n        userCache.set(uid, {\n          data: userData,\n          timestamp: Date.now(),\n        });\n\n        return userData;\n      }\n      return null;\n    } catch (error) {\n      console.error(\"Error fetching user data:\", error);\n      return null;\n    }\n  },\n\n  // Get multiple users data by UIDs\n  async getUsersData(uids) {\n    if (!uids || uids.length === 0) return {};\n\n    const uniqueUids = [...new Set(uids)];\n    const users = {};\n    const uncachedUids = [];\n\n    // Check cache for each UID\n    for (const uid of uniqueUids) {\n      const cached = userCache.get(uid);\n      if (cached && Date.now() - cached.timestamp < CACHE_DURATION) {\n        users[uid] = cached.data;\n      } else {\n        uncachedUids.push(uid);\n      }\n    }\n\n    // Fetch uncached users\n    if (uncachedUids.length > 0) {\n      try {\n        // Firestore 'in' queries are limited to 10 items, so we batch them\n        const batches = [];\n        for (let i = 0; i < uncachedUids.length; i += 10) {\n          batches.push(uncachedUids.slice(i, i + 10));\n        }\n\n        for (const batch of batches) {\n          const q = query(\n            collection(db, \"users\"),\n            where(\"__name__\", \"in\", batch)\n          );\n\n          const snapshot = await getDocs(q);\n          snapshot.forEach((doc) => {\n            const userData = { uid: doc.id, ...doc.data() };\n            users[doc.id] = userData;\n\n            // Cache the result\n            userCache.set(doc.id, {\n              data: userData,\n              timestamp: Date.now(),\n            });\n          });\n        }\n      } catch (error) {\n        console.error(\"Error fetching users data:\", error);\n      }\n    }\n\n    return users;\n  },\n\n  // Clear cache for a specific user (useful when user updates their profile)\n  clearUserCache(uid) {\n    userCache.delete(uid);\n  },\n\n  // Clear all cache\n  clearAllCache() {\n    userCache.clear();\n  },\n};\n"],"names":[],"mappings":";;;AAAA;AAAA;AAQA;;;AAEA,gDAAgD;AAChD,MAAM,YAAY,IAAI;AACtB,MAAM,iBAAiB,IAAI,KAAK,MAAM,YAAY;AAE3C,MAAM,cAAc;IACzB,uBAAuB;IACvB,MAAM,aAAY,GAAG;QACnB,IAAI,CAAC,KAAK,OAAO;QAEjB,oBAAoB;QACpB,MAAM,SAAS,UAAU,GAAG,CAAC;QAC7B,IAAI,UAAU,KAAK,GAAG,KAAK,OAAO,SAAS,GAAG,gBAAgB;YAC5D,OAAO,OAAO,IAAI;QACpB;QAEA,IAAI;YACF,MAAM,UAAU,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,SAAS;YAC9C,IAAI,QAAQ,MAAM,IAAI;gBACpB,MAAM,WAAW;oBAAE;oBAAK,GAAG,QAAQ,IAAI,EAAE;gBAAC;gBAE1C,mBAAmB;gBACnB,UAAU,GAAG,CAAC,KAAK;oBACjB,MAAM;oBACN,WAAW,KAAK,GAAG;gBACrB;gBAEA,OAAO;YACT;YACA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,OAAO;QACT;IACF;IAEA,kCAAkC;IAClC,MAAM,cAAa,IAAI;QACrB,IAAI,CAAC,QAAQ,KAAK,MAAM,KAAK,GAAG,OAAO,CAAC;QAExC,MAAM,aAAa;eAAI,IAAI,IAAI;SAAM;QACrC,MAAM,QAAQ,CAAC;QACf,MAAM,eAAe,EAAE;QAEvB,2BAA2B;QAC3B,KAAK,MAAM,OAAO,WAAY;YAC5B,MAAM,SAAS,UAAU,GAAG,CAAC;YAC7B,IAAI,UAAU,KAAK,GAAG,KAAK,OAAO,SAAS,GAAG,gBAAgB;gBAC5D,KAAK,CAAC,IAAI,GAAG,OAAO,IAAI;YAC1B,OAAO;gBACL,aAAa,IAAI,CAAC;YACpB;QACF;QAEA,uBAAuB;QACvB,IAAI,aAAa,MAAM,GAAG,GAAG;YAC3B,IAAI;gBACF,mEAAmE;gBACnE,MAAM,UAAU,EAAE;gBAClB,IAAK,IAAI,IAAI,GAAG,IAAI,aAAa,MAAM,EAAE,KAAK,GAAI;oBAChD,QAAQ,IAAI,CAAC,aAAa,KAAK,CAAC,GAAG,IAAI;gBACzC;gBAEA,KAAK,MAAM,SAAS,QAAS;oBAC3B,MAAM,IAAI,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EACZ,CAAA,GAAA,sKAAA,CAAA,aAAU,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,UACf,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EAAE,YAAY,MAAM;oBAG1B,MAAM,WAAW,MAAM,CAAA,GAAA,sKAAA,CAAA,UAAO,AAAD,EAAE;oBAC/B,SAAS,OAAO,CAAC,CAAC;wBAChB,MAAM,WAAW;4BAAE,KAAK,IAAI,EAAE;4BAAE,GAAG,IAAI,IAAI,EAAE;wBAAC;wBAC9C,KAAK,CAAC,IAAI,EAAE,CAAC,GAAG;wBAEhB,mBAAmB;wBACnB,UAAU,GAAG,CAAC,IAAI,EAAE,EAAE;4BACpB,MAAM;4BACN,WAAW,KAAK,GAAG;wBACrB;oBACF;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,8BAA8B;YAC9C;QACF;QAEA,OAAO;IACT;IAEA,2EAA2E;IAC3E,gBAAe,GAAG;QAChB,UAAU,MAAM,CAAC;IACnB;IAEA,kBAAkB;IAClB;QACE,UAAU,KAAK;IACjB;AACF","debugId":null}},
    {"offset": {"line": 376, "column": 0}, "map": {"version":3,"sources":["file:///Users/aadyasharma/Downloads/iwin-main/components/Navbar.js"],"sourcesContent":["'use client';\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useRouter } from 'next/navigation';\n\nexport default function Navbar() {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [isProfileMenuOpen, setIsProfileMenuOpen] = useState(false);\n  const { user, logout } = useAuth();\n  const router = useRouter();\n\n  const handleSignOut = async () => {\n    await logout();\n    router.push('/');\n    setIsProfileMenuOpen(false);\n  };\n\n  return (\n    <nav className=\"sticky top-0 z-50 bg-white/95 backdrop-blur-xl border-b border-gray-100 shadow-sm\">\n      <div className=\"max-w-7xl mx-auto px-6\">\n        <div className=\"flex justify-between items-center h-16\">\n          {/* Logo */}\n          <Link href=\"/\" className=\"flex items-center space-x-3 group\">\n            <div className=\"relative w-15 h-15 transition-transform duration-200 group-hover:scale-105\">\n              <Image\n                src=\"/logo.png\"\n                alt=\"I-Win Healthcare Community\"\n                fill\n                className=\"rounded-xl object-contain\"\n              />\n            </div>\n            <div className=\"flex flex-col\">\n              <span className=\"ml-[-10] text-xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent tracking-tight\">\n                I-Win\n              </span>\n              <span className=\"ml-[-10] text-xs text-gray-500 -mt-1\">Healing Through Hope</span>\n            </div>\n          </Link>\n\n          {/* Desktop Navigation */}\n          <div className=\"hidden md:flex items-center space-x-8\">\n            {/* Community Link - Always visible */}\n            <Link \n              href=\"/community\" \n              className=\"text-gray-600 hover:text-emerald-600 font-medium transition-colors duration-200 relative group\"\n            >\n              Community\n              <span className=\"absolute -bottom-1 left-0 w-0 h-0.5 bg-emerald-500 group-hover:w-full transition-all duration-300\"></span>\n            </Link>\n\n            {/* AI Assistant Link - Only show when logged in */}\n            {user && (\n              <Link \n                href=\"/chatbot\" \n                className=\"text-gray-600 hover:text-emerald-600 font-medium transition-colors duration-200 relative group flex items-center space-x-1\"\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                </svg>\n                <span>AI Assistant</span>\n                <span className=\"absolute -bottom-1 left-0 w-0 h-0.5 bg-emerald-500 group-hover:w-full transition-all duration-300\"></span>\n              </Link>\n            )}\n\n            {/* Profile Link - Only show when logged in */}\n            {user && (\n              <Link \n                href=\"/profile\" \n                className=\"text-gray-600 hover:text-emerald-600 font-medium transition-colors duration-200 relative group\"\n              >\n                Profile\n                <span className=\"absolute -bottom-1 left-0 w-0 h-0.5 bg-emerald-500 group-hover:w-full transition-all duration-300\"></span>\n              </Link>\n            )}\n\n            {/* Admin Link - Only show for admin users */}\n            {user?.role === 'admin' && (\n              <Link \n                href=\"/admin\" \n                className=\"text-gray-600 hover:text-emerald-600 font-medium transition-colors duration-200 relative group\"\n              >\n                Admin\n                <span className=\"absolute -bottom-1 left-0 w-0 h-0.5 bg-emerald-500 group-hover:w-full transition-all duration-300\"></span>\n              </Link>\n            )}\n\n            {/* Auth Section */}\n            {user ? (\n              <div className=\"relative\">\n                <button\n                  onClick={() => setIsProfileMenuOpen(!isProfileMenuOpen)}\n                  className=\"flex items-center space-x-3 p-2 rounded-xl hover:bg-gray-50 transition-all duration-200 group\"\n                >\n                  {user.photoURL ? (\n                    <Image\n                      src={user.photoURL}\n                      alt={user.displayName}\n                      width={36}\n                      height={36}\n                      className=\"rounded-full ring-2 ring-emerald-100 group-hover:ring-emerald-200 transition-all\"\n                    />\n                  ) : (\n                    <div className=\"w-9 h-9 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-full flex items-center justify-center text-white text-sm font-semibold ring-2 ring-emerald-100 group-hover:ring-emerald-200 transition-all\">\n                      {user.displayName?.charAt(0) || user.email?.charAt(0)}\n                    </div>\n                  )}\n                  <div className=\"text-left hidden lg:block\">\n                    <div className=\"text-sm font-medium text-gray-700 group-hover:text-gray-900 transition-colors\">\n                      {user.displayName || 'User'}\n                    </div>\n                    <div className=\"text-xs text-gray-500 capitalize\">\n                      {user.role?.replace('_', ' ') || 'Member'}\n                    </div>\n                  </div>\n                  <svg className=\"w-4 h-4 text-gray-400 group-hover:text-gray-600 transition-all\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                </button>\n\n                {/* Profile Dropdown */}\n                {isProfileMenuOpen && (\n                  <div className=\"absolute right-0 mt-2 w-64 bg-white rounded-2xl shadow-lg border border-gray-100 py-2 z-50\">\n                    <div className=\"px-4 py-3 border-b border-gray-100\">\n                      <div className=\"text-sm font-medium text-gray-900\">{user.displayName || 'User'}</div>\n                      <div className=\"text-sm text-gray-500 truncate\">{user.email}</div>\n                      {user.role && (\n                        <div className=\"flex items-center space-x-2 mt-2\">\n                          <span className=\"text-xs bg-emerald-100 text-emerald-700 px-2 py-1 rounded-full capitalize\">\n                            {user.role.replace('_', ' ')}\n                          </span>\n                          {user.role === 'medical_professional' && user.medicalVerification?.status === 'verified' && (\n                            <span className=\"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full flex items-center space-x-1\">\n                              <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                              </svg>\n                              <span>Verified</span>\n                            </span>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                    \n                    <Link \n                      href=\"/profile\"\n                      className=\"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-50 transition-colors\"\n                      onClick={() => setIsProfileMenuOpen(false)}\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                      </svg>\n                      <span className=\"text-sm\">View Profile</span>\n                    </Link>\n\n                    <Link \n                      href=\"/chatbot\"\n                      className=\"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-50 transition-colors\"\n                      onClick={() => setIsProfileMenuOpen(false)}\n                    >\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                      </svg>\n                      <span className=\"text-sm\">AI Assistant</span>\n                    </Link>\n\n                    {user.role === 'admin' && (\n                      <Link \n                        href=\"/admin\"\n                        className=\"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-gray-50 transition-colors\"\n                        onClick={() => setIsProfileMenuOpen(false)}\n                      >\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                        </svg>\n                        <span className=\"text-sm\">Admin Dashboard</span>\n                      </Link>\n                    )}\n                    \n                    <div className=\"border-t border-gray-100 mt-2\">\n                      <button \n                        onClick={handleSignOut}\n                        className=\"w-full flex items-center space-x-3 px-4 py-3 text-red-600 hover:bg-red-50 transition-colors text-left\"\n                      >\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n                        </svg>\n                        <span className=\"text-sm\">Sign Out</span>\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n            ) : (\n              <div className=\"flex items-center space-x-4\">\n                <Link \n                  href=\"/auth\"\n                  className=\"px-4 py-2 text-gray-600 hover:text-emerald-600 font-medium transition-all duration-200\"\n                >\n                  Sign In\n                </Link>\n                <Link \n                  href=\"/auth\"\n                  className=\"px-6 py-2.5 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl font-medium transition-all duration-300 hover:from-emerald-600 hover:to-teal-600 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95\"\n                >\n                  Join Community\n                </Link>\n              </div>\n            )}\n          </div>\n\n          {/* Mobile Menu Button */}\n          <button \n            className=\"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors\"\n            onClick={() => setIsMenuOpen(!isMenuOpen)}\n          >\n            <svg className=\"w-6 h-6 text-gray-700\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d={isMenuOpen ? \"M6 18L18 6M6 6l12 12\" : \"M4 6h16M4 12h16M4 18h16\"} />\n            </svg>\n          </button>\n        </div>\n\n        {/* Mobile Menu */}\n        {isMenuOpen && (\n          <div className=\"md:hidden absolute left-0 right-0 top-full bg-white/95 backdrop-blur-xl border-b border-gray-100 shadow-lg\">\n            <div className=\"px-6 py-4\">\n              <div className=\"flex flex-col space-y-1\">\n                {user ? (\n                  <>\n                    {/* User Info */}\n                    <div className=\"flex items-center space-x-3 px-3 py-4 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl mb-3\">\n                      {user.photoURL ? (\n                        <Image\n                          src={user.photoURL}\n                          alt={user.displayName}\n                          width={40}\n                          height={40}\n                          className=\"rounded-full ring-2 ring-emerald-200\"\n                        />\n                      ) : (\n                        <div className=\"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-full flex items-center justify-center text-white font-semibold ring-2 ring-emerald-200\">\n                          {user.displayName?.charAt(0) || user.email?.charAt(0)}\n                        </div>\n                      )}\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"text-gray-900 font-medium truncate\">\n                          {user.displayName || 'User'}\n                        </div>\n                        <div className=\"text-gray-600 text-sm truncate\">\n                          {user.email}\n                        </div>\n                        {user.role && (\n                          <div className=\"flex items-center space-x-2 mt-1\">\n                            <span className=\"text-xs bg-emerald-100 text-emerald-700 px-2 py-1 rounded-full capitalize\">\n                              {user.role.replace('_', ' ')}\n                            </span>\n                            {user.role === 'medical_professional' && user.medicalVerification?.status === 'verified' && (\n                              <span className=\"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full flex items-center space-x-1\">\n                                <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                                </svg>\n                                <span>Verified</span>\n                              </span>\n                            )}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n\n                    {/* Navigation Links */}\n                    <Link \n                      href=\"/community\" \n                      className=\"flex items-center space-x-3 px-3 py-3 text-gray-700 hover:text-emerald-600 font-medium transition-colors rounded-lg hover:bg-emerald-50\"\n                      onClick={() => setIsMenuOpen(false)}\n                    >\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                      </svg>\n                      <span>Community</span>\n                    </Link>\n\n                    <Link \n                      href=\"/chatbot\" \n                      className=\"flex items-center space-x-3 px-3 py-3 text-gray-700 hover:text-emerald-600 font-medium transition-colors rounded-lg hover:bg-emerald-50\"\n                      onClick={() => setIsMenuOpen(false)}\n                    >\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                      </svg>\n                      <span>AI Assistant</span>\n                    </Link>\n                    \n                    <Link \n                      href=\"/profile\" \n                      className=\"flex items-center space-x-3 px-3 py-3 text-gray-700 hover:text-emerald-600 font-medium transition-colors rounded-lg hover:bg-emerald-50\"\n                      onClick={() => setIsMenuOpen(false)}\n                    >\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                      </svg>\n                      <span>Profile</span>\n                    </Link>\n\n                    {user.role === 'admin' && (\n                      <Link \n                        href=\"/admin\" \n                        className=\"flex items-center space-x-3 px-3 py-3 text-gray-700 hover:text-emerald-600 font-medium transition-colors rounded-lg hover:bg-emerald-50\"\n                        onClick={() => setIsMenuOpen(false)}\n                      >\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2-2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                        </svg>\n                        <span>Admin</span>\n                      </Link>\n                    )}\n                    \n                    {/* Divider */}\n                    <div className=\"border-t border-gray-200 my-2\"></div>\n                    \n                    {/* Sign Out Button */}\n                    <button \n                      onClick={() => {\n                        handleSignOut();\n                        setIsMenuOpen(false);\n                      }}\n                      className=\"w-full flex items-center space-x-3 px-3 py-3 text-red-600 hover:text-red-700 font-medium hover:bg-red-50 transition-colors text-left rounded-lg\"\n                    >\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n                      </svg>\n                      <span>Sign Out</span>\n                    </button>\n                  </>\n                ) : (\n                  <>\n                    {/* Community Link for Non-Authenticated Users */}\n                    <Link \n                      href=\"/community\" \n                      className=\"flex items-center space-x-3 px-3 py-3 text-gray-700 hover:text-emerald-600 font-medium transition-colors rounded-lg hover:bg-emerald-50\"\n                      onClick={() => setIsMenuOpen(false)}\n                    >\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                      </svg>\n                      <span>Community</span>\n                    </Link>\n\n                    {/* Divider */}\n                    <div className=\"border-t border-gray-200 my-2\"></div>\n\n                    {/* Sign In Button */}\n                    <Link \n                      href=\"/auth\"\n                      className=\"flex items-center justify-center space-x-2 px-4 py-3 text-gray-700 hover:text-emerald-600 font-medium transition-colors rounded-lg hover:bg-emerald-50\"\n                      onClick={() => setIsMenuOpen(false)}\n                    >\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\" />\n                      </svg>\n                      <span>Sign In</span>\n                    </Link>\n                    \n                    {/* Join Community Button */}\n                    <Link \n                      href=\"/auth\"\n                      className=\"px-4 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl font-medium transition-all duration-300 hover:from-emerald-600 hover:to-teal-600 shadow-lg text-center flex items-center justify-center space-x-2 mt-2\"\n                      onClick={() => setIsMenuOpen(false)}\n                    >\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\" />\n                      </svg>\n                      <span>Join Community</span>\n                    </Link>\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </nav>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1441, "column": 0}, "map": {"version":3,"sources":["file:///Users/aadyasharma/Downloads/iwin-main/components/community/UserDisplay.js"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { userService } from \"@/lib/userService\";\n\nexport default function UserDisplay({\n  userId,\n  showRole = true,\n  showVerified = true,\n  size = \"md\",\n  textSize = \"sm\",\n}) {\n  const [userData, setUserData] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (userId) {\n      loadUserData();\n    }\n  }, [userId]);\n\n  const loadUserData = async () => {\n    const data = await userService.getUserData(userId);\n    setUserData(data);\n    setLoading(false);\n  };\n\n  const getRoleColor = (role) => {\n    switch (role) {\n      case \"patient\":\n        return \"text-green-600\";\n      case \"caregiver\":\n        return \"text-blue-600\";\n      case \"medical_professional\":\n        return \"text-purple-600\";\n      default:\n        return \"text-gray-600\";\n    }\n  };\n\n  const getRoleDisplayName = (role) => {\n    switch (role) {\n      case \"patient\":\n        return \"Patient\";\n      case \"caregiver\":\n        return \"Caregiver\";\n      case \"medical_professional\":\n        return \"Medical\";\n      default:\n        return \"Member\";\n    }\n  };\n\n  const getAvatarSize = () => {\n    switch (size) {\n      case \"sm\":\n        return \"w-8 h-8\";\n      case \"lg\":\n        return \"w-12 h-12\";\n      default:\n        return \"w-10 h-10\";\n    }\n  };\n\n  const getTextSize = () => {\n    switch (textSize) {\n      case \"xs\":\n        return \"text-xs\";\n      case \"lg\":\n        return \"text-base\";\n      default:\n        return \"text-sm\";\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center space-x-2\">\n        <div\n          className={`${getAvatarSize()} bg-gray-200 rounded-full animate-pulse`}\n        ></div>\n        <div className=\"space-y-1\">\n          <div className=\"h-4 bg-gray-200 rounded w-20 animate-pulse\"></div>\n          {showRole && (\n            <div className=\"h-3 bg-gray-200 rounded w-16 animate-pulse\"></div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  if (!userData) {\n    return (\n      <div className=\"flex items-center space-x-2\">\n        <div\n          className={`${getAvatarSize()} bg-gray-300 rounded-full flex items-center justify-center text-white font-semibold`}\n        >\n          ?\n        </div>\n        <div>\n          <span className={`font-medium text-gray-500 ${getTextSize()}`}>\n            Unknown User\n          </span>\n        </div>\n      </div>\n    );\n  }\n\n  const displayName = userData.displayName || \"Anonymous\";\n  const avatarText = userData.photoURL\n    ? \"\"\n    : displayName.charAt(0).toUpperCase();\n  const isVerified =\n    userData.role === \"medical_professional\" &&\n    userData.medicalVerification?.status === \"verified\";\n\n  return (\n    <div className=\"flex items-center space-x-2\">\n      {/* Avatar */}\n      {userData.photoURL ? (\n        <div className={`${getAvatarSize()} rounded-full overflow-hidden`}>\n          <img\n            src={userData.photoURL}\n            alt={displayName}\n            className=\"w-full h-full object-cover\"\n          />\n        </div>\n      ) : (\n        <div\n          className={`${getAvatarSize()} bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white font-semibold ${getTextSize()}`}\n        >\n          {avatarText}\n        </div>\n      )}\n\n      {/* User Info */}\n      <div className=\"flex items-center space-x-1\">\n        <span\n          className={`font-semibold text-gray-900 hover:underline cursor-pointer ${getTextSize()}`}\n        >\n          {displayName}\n        </span>\n\n        {showVerified && isVerified && (\n          <svg\n            className=\"w-4 h-4 text-blue-500\"\n            fill=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n        )}\n\n        {showRole && userData.role && (\n          <>\n            <span className=\"text-gray-500\"></span>\n            <span\n              className={`text-xs font-medium ${getRoleColor(userData.role)}`}\n            >\n              {getRoleDisplayName(userData.role)}\n            </span>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1690, "column": 0}, "map": {"version":3,"sources":["file:///Users/aadyasharma/Downloads/iwin-main/components/community/CreatePost.js"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { postsService } from \"@/lib/postsService\";\nimport UserDisplay from \"./UserDisplay\";\n\nexport default function CreatePost({ onPostCreated }) {\n  const { user } = useAuth();\n  const [content, setContent] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showForm, setShowForm] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!content.trim() || !user) return;\n\n    setIsSubmitting(true);\n\n    const postData = {\n      content: content.trim(),\n      authorId: user.uid,\n      tags: tags\n        .split(\",\")\n        .map((tag) => tag.trim())\n        .filter((tag) => tag),\n    };\n\n    const result = await postsService.createPost(postData);\n\n    if (result.success) {\n      setContent(\"\");\n      setTags(\"\");\n      setShowForm(false);\n      onPostCreated?.();\n    } else {\n      console.error(\"Error creating post:\", result.error);\n      alert(\"Failed to create post\");\n    }\n\n    setIsSubmitting(false);\n  };\n\n  if (!user) {\n    return (\n      <div className=\"px-4 py-3 border-b border-gray-200 bg-gray-50\">\n        <p className=\"text-center text-gray-500 text-sm\">\n          Please log in to share your thoughts\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"px-4 py-3 border-b border-gray-200 bg-white\">\n      {!showForm ? (\n        <button\n          onClick={() => setShowForm(true)}\n          className=\"w-full flex items-center space-x-3 p-3 text-left border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors\"\n        >\n          <UserDisplay\n            userId={user.uid}\n            showRole={false}\n            showVerified={false}\n          />\n          <span className=\"text-gray-500 flex-1\">\n            What&apos;s on your mind?\n          </span>\n        </button>\n      ) : (\n        <form onSubmit={handleSubmit} className=\"space-y-3\">\n          <div className=\"flex space-x-3\">\n            <UserDisplay\n              userId={user.uid}\n              showRole={false}\n              showVerified={false}\n            />\n            <div className=\"flex-1\">\n              <textarea\n                value={content}\n                onChange={(e) => setContent(e.target.value)}\n                placeholder=\"What's on your mind?\"\n                className=\"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none text-gray-900\"\n                rows=\"3\"\n                maxLength={500}\n              />\n              <div className=\"text-right text-xs text-gray-400 mt-1\">\n                {content.length}/500\n              </div>\n            </div>\n          </div>\n\n          <div className=\"ml-13\">\n            <input\n              type=\"text\"\n              value={tags}\n              onChange={(e) => setTags(e.target.value)}\n              placeholder=\"Add tags (comma separated, e.g. recovery, support, tips)\"\n              className=\"w-full p-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-gray-900\"\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between ml-13\">\n            <div className=\"flex items-center space-x-4 text-gray-400\">\n              <button\n                type=\"button\"\n                className=\"hover:text-gray-600 transition-colors\"\n              >\n                <svg\n                  className=\"w-5 h-5\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                  />\n                </svg>\n              </button>\n              <button\n                type=\"button\"\n                className=\"hover:text-gray-600 transition-colors\"\n              >\n                <svg\n                  className=\"w-5 h-5\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\"\n                  />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"flex items-center space-x-2\">\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setShowForm(false);\n                  setContent(\"\");\n                  setTags(\"\");\n                }}\n                className=\"px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={!content.trim() || isSubmitting}\n                className=\"px-4 py-2 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg hover:from-green-600 hover:to-blue-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium\"\n              >\n                {isSubmitting ? \"Sharing...\" : \"Share\"}\n              </button>\n            </div>\n          </div>\n        </form>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1986, "column": 0}, "map": {"version":3,"sources":["file:///Users/aadyasharma/Downloads/iwin-main/components/community/Comments.js"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { postsService } from \"@/lib/postsService\";\nimport UserDisplay from \"./UserDisplay\";\n\nexport default function Comments({ postId, onCommentAdd, onCommentDelete }) {\n  const { user } = useAuth();\n  const [comments, setComments] = useState([]);\n  const [newComment, setNewComment] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [editingComment, setEditingComment] = useState(null);\n  const [editContent, setEditContent] = useState(\"\");\n\n  useEffect(() => {\n    loadComments();\n  }, [postId]);\n\n  const loadComments = async () => {\n    const result = await postsService.getComments(postId);\n    if (result.success) {\n      setComments(result.comments);\n    }\n    setIsLoading(false);\n  };\n\n  const handleSubmitComment = async (e) => {\n    e.preventDefault();\n    if (!newComment.trim() || !user) return;\n\n    setIsSubmitting(true);\n\n    const commentData = {\n      content: newComment.trim(),\n      authorId: user.uid,\n    };\n\n    const result = await postsService.addComment(postId, commentData);\n\n    if (result.success) {\n      setNewComment(\"\");\n      loadComments(); // Reload to get the new comment with ID\n      onCommentAdd?.();\n    } else {\n      console.error(\"Error adding comment:\", result.error);\n      alert(\"Failed to add comment\");\n    }\n\n    setIsSubmitting(false);\n  };\n\n  const handleEditComment = async (commentId) => {\n    if (!editContent.trim()) return;\n\n    const result = await postsService.updateComment(commentId, {\n      content: editContent.trim(),\n    });\n\n    if (result.success) {\n      setEditingComment(null);\n      setEditContent(\"\");\n      loadComments();\n    } else {\n      console.error(\"Error updating comment:\", result.error);\n      alert(\"Failed to update comment\");\n    }\n  };\n\n  const handleDeleteComment = async (commentId) => {\n    if (!confirm(\"Are you sure you want to delete this comment?\")) return;\n\n    const result = await postsService.deleteComment(commentId, postId);\n\n    if (result.success) {\n      loadComments();\n      onCommentDelete?.();\n    } else {\n      console.error(\"Error deleting comment:\", result.error);\n      alert(\"Failed to delete comment\");\n    }\n  };\n\n  const formatTimestamp = (timestamp) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffMs = now - date;\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n\n    if (diffMins < 1) return \"now\";\n    if (diffMins < 60) return `${diffMins}m`;\n    if (diffHours < 24) return `${diffHours}h`;\n    if (diffDays < 7) return `${diffDays}d`;\n    return date.toLocaleDateString();\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"mt-3 pt-3 border-t border-gray-100\">\n        <div className=\"flex items-center justify-center py-4\">\n          <div className=\"w-4 h-4 border-2 border-gray-300 border-t-green-500 rounded-full animate-spin\"></div>\n          <span className=\"ml-2 text-sm text-gray-500\">\n            Loading comments...\n          </span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"mt-3 pt-3 border-t border-gray-100\">\n      {/* Add Comment Form */}\n      {user && (\n        <form onSubmit={handleSubmitComment} className=\"mb-4\">\n          <div className=\"flex space-x-3\">\n            <UserDisplay\n              userId={user.uid}\n              size=\"sm\"\n              showRole={false}\n              showVerified={false}\n            />\n            <div className=\"flex-1\">\n              <textarea\n                value={newComment}\n                onChange={(e) => setNewComment(e.target.value)}\n                placeholder=\"Write a comment...\"\n                className=\"w-full p-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none text-gray-900\"\n                rows=\"2\"\n              />\n              <div className=\"flex justify-end mt-2\">\n                <button\n                  type=\"submit\"\n                  disabled={!newComment.trim() || isSubmitting}\n                  className=\"px-3 py-1 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\n                >\n                  {isSubmitting ? \"Posting...\" : \"Comment\"}\n                </button>\n              </div>\n            </div>\n          </div>\n        </form>\n      )}\n\n      {/* Comments List */}\n      <div className=\"space-y-3\">\n        {comments.map((comment) => (\n          <div key={comment.id} className=\"flex space-x-3\">\n            <UserDisplay\n              userId={comment.authorId}\n              size=\"sm\"\n              showRole={true}\n              showVerified={true}\n              textSize=\"xs\"\n            />\n\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"bg-gray-50 rounded-lg p-3\">\n                <div className=\"flex items-center justify-between mb-1\">\n                  <div className=\"flex items-center space-x-1\">\n                    <span className=\"text-gray-500 text-xs\">\n                      {formatTimestamp(comment.createdAt)}\n                    </span>\n                    {comment.updatedAt !== comment.createdAt && (\n                      <span className=\"text-gray-400 text-xs\">(edited)</span>\n                    )}\n                  </div>\n\n                  {/* Comment Options */}\n                  {user?.uid === comment.authorId && (\n                    <div className=\"flex items-center space-x-1\">\n                      <button\n                        onClick={() => {\n                          setEditingComment(comment.id);\n                          setEditContent(comment.content);\n                        }}\n                        className=\"text-gray-400 hover:text-gray-600 transition-colors p-1\"\n                        title=\"Edit comment\"\n                      >\n                        <svg\n                          className=\"w-3 h-3\"\n                          fill=\"none\"\n                          stroke=\"currentColor\"\n                          viewBox=\"0 0 24 24\"\n                        >\n                          <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            strokeWidth={2}\n                            d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n                          />\n                        </svg>\n                      </button>\n                      <button\n                        onClick={() => handleDeleteComment(comment.id)}\n                        className=\"text-gray-400 hover:text-red-500 transition-colors p-1\"\n                        title=\"Delete comment\"\n                      >\n                        <svg\n                          className=\"w-3 h-3\"\n                          fill=\"none\"\n                          stroke=\"currentColor\"\n                          viewBox=\"0 0 24 24\"\n                        >\n                          <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            strokeWidth={2}\n                            d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                          />\n                        </svg>\n                      </button>\n                    </div>\n                  )}\n                </div>\n\n                {editingComment === comment.id ? (\n                  <div className=\"space-y-2\">\n                    <textarea\n                      value={editContent}\n                      onChange={(e) => setEditContent(e.target.value)}\n                      className=\"w-full p-2 text-sm border border-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none text-gray-900\"\n                      rows=\"2\"\n                    />\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={() => handleEditComment(comment.id)}\n                        disabled={!editContent.trim()}\n                        className=\"px-2 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600 transition-colors disabled:opacity-50\"\n                      >\n                        Save\n                      </button>\n                      <button\n                        onClick={() => {\n                          setEditingComment(null);\n                          setEditContent(\"\");\n                        }}\n                        className=\"px-2 py-1 border border-gray-200 text-gray-700 rounded text-xs hover:bg-gray-50 transition-colors\"\n                      >\n                        Cancel\n                      </button>\n                    </div>\n                  </div>\n                ) : (\n                  <p className=\"text-sm text-gray-900 whitespace-pre-wrap\">\n                    {comment.content}\n                  </p>\n                )}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {comments.length === 0 && (\n        <div className=\"text-center py-4\">\n          <p className=\"text-gray-500 text-sm\">\n            No comments yet. Be the first to comment!\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2424, "column": 0}, "map": {"version":3,"sources":["file:///Users/aadyasharma/Downloads/iwin-main/components/community/Post.js"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { postsService } from \"@/lib/postsService\";\nimport Comments from \"./Comments\";\nimport UserDisplay from \"./UserDisplay\";\n\nexport default function Post({ post, onUpdate, onDelete }) {\n  const { user } = useAuth();\n  const [isLiked, setIsLiked] = useState(\n    post.likes?.includes(user?.uid) || false\n  );\n  const [likesCount, setLikesCount] = useState(post.likesCount || 0);\n  const [commentsCount, setCommentsCount] = useState(post.commentsCount || 0);\n  const [showComments, setShowComments] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [editContent, setEditContent] = useState(post.content || \"\");\n  const [isUpdating, setIsUpdating] = useState(false);\n\n  const formatTimestamp = (timestamp) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffMs = now - date;\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n\n    if (diffMins < 1) return \"now\";\n    if (diffMins < 60) return `${diffMins}m`;\n    if (diffHours < 24) return `${diffHours}h`;\n    if (diffDays < 7) return `${diffDays}d`;\n    return date.toLocaleDateString();\n  };\n\n  const formatNumber = (num) => {\n    if (num >= 1000) {\n      return (num / 1000).toFixed(1) + \"K\";\n    }\n    return num.toString();\n  };\n\n  const handleLike = async () => {\n    if (!user) return;\n\n    const newIsLiked = !isLiked;\n    const newLikesCount = newIsLiked ? likesCount + 1 : likesCount - 1;\n\n    // Optimistic update\n    setIsLiked(newIsLiked);\n    setLikesCount(newLikesCount);\n\n    const result = await postsService.toggleLike(post.id, user.uid);\n\n    if (!result.success) {\n      // Revert on error\n      setIsLiked(!newIsLiked);\n      setLikesCount(likesCount);\n      console.error(\"Error toggling like:\", result.error);\n    }\n  };\n\n  const handleEdit = async () => {\n    if (!editContent.trim()) return;\n\n    setIsUpdating(true);\n    const result = await postsService.updatePost(post.id, {\n      content: editContent.trim(),\n    });\n\n    if (result.success) {\n      setIsEditing(false);\n      onUpdate?.();\n    } else {\n      console.error(\"Error updating post:\", result.error);\n      alert(\"Failed to update post\");\n    }\n    setIsUpdating(false);\n  };\n\n  const handleDelete = async () => {\n    if (!confirm(\"Are you sure you want to delete this post?\")) return;\n\n    const result = await postsService.deletePost(post.id);\n\n    if (result.success) {\n      onDelete?.(post.id);\n    } else {\n      console.error(\"Error deleting post:\", result.error);\n      alert(\"Failed to delete post\");\n    }\n  };\n\n  const handleCommentsUpdate = () => {\n    setCommentsCount((prev) => prev + 1);\n  };\n\n  const handleCommentDelete = () => {\n    setCommentsCount((prev) => Math.max(0, prev - 1));\n  };\n\n  const isOwner = user?.uid === post.authorId;\n\n  return (\n    <div className=\"px-4 py-3 border-b border-gray-200 hover:bg-gray-50/50 transition-colors\">\n      <div className=\"flex space-x-3\">\n        {/* User Info */}\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center justify-between mb-1\">\n            <div className=\"flex items-center space-x-1\">\n              <UserDisplay userId={post.authorId} />\n              <span className=\"text-gray-500\"></span>\n              <span className=\"text-gray-500 text-sm hover:underline cursor-pointer\">\n                {formatTimestamp(post.createdAt)}\n              </span>\n              {post.updatedAt !== post.createdAt && (\n                <span className=\"text-gray-400 text-xs\">(edited)</span>\n              )}\n            </div>\n\n            {/* Options Menu */}\n            {isOwner && (\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={() => setIsEditing(true)}\n                  className=\"text-gray-400 hover:text-gray-600 transition-colors p-1\"\n                  title=\"Edit post\"\n                >\n                  <svg\n                    className=\"w-4 h-4\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n                    />\n                  </svg>\n                </button>\n                <button\n                  onClick={handleDelete}\n                  className=\"text-gray-400 hover:text-red-500 transition-colors p-1\"\n                  title=\"Delete post\"\n                >\n                  <svg\n                    className=\"w-4 h-4\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                    />\n                  </svg>\n                </button>\n              </div>\n            )}\n          </div>\n\n          {/* Post Content */}\n          <div className=\"mb-3\">\n            {isEditing ? (\n              <div className=\"space-y-3\">\n                <textarea\n                  value={editContent}\n                  onChange={(e) => setEditContent(e.target.value)}\n                  className=\"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none text-gray-900\"\n                  rows=\"3\"\n                  placeholder=\"What's on your mind?\"\n                />\n                <div className=\"flex items-center space-x-2\">\n                  <button\n                    onClick={handleEdit}\n                    disabled={isUpdating || !editContent.trim()}\n                    className=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\n                  >\n                    {isUpdating ? \"Saving...\" : \"Save\"}\n                  </button>\n                  <button\n                    onClick={() => {\n                      setIsEditing(false);\n                      setEditContent(post.content);\n                    }}\n                    className=\"px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            ) : (\n              <p className=\"text-gray-900 text-sm leading-relaxed break-words whitespace-pre-wrap\">\n                {post.content}\n              </p>\n            )}\n\n            {/* Tags */}\n            {post.tags && post.tags.length > 0 && (\n              <div className=\"flex flex-wrap gap-1 mt-2\">\n                {post.tags.map((tag, index) => (\n                  <span\n                    key={index}\n                    className=\"text-green-600 text-sm hover:underline cursor-pointer\"\n                  >\n                    #{tag}\n                  </span>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Interaction Bar */}\n          {!isEditing && (\n            <div className=\"flex items-center justify-between max-w-md\">\n              <button\n                onClick={handleLike}\n                className={`flex items-center space-x-2 transition-colors group p-2 -m-2 rounded-full ${\n                  isLiked\n                    ? \"text-red-500 hover:text-red-600\"\n                    : \"text-gray-500 hover:text-red-500 hover:bg-red-50\"\n                }`}\n              >\n                <svg\n                  className=\"w-4 h-4\"\n                  fill={isLiked ? \"currentColor\" : \"none\"}\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n                  />\n                </svg>\n                <span className=\"text-sm\">{formatNumber(likesCount)}</span>\n              </button>\n\n              <button\n                onClick={() => setShowComments(!showComments)}\n                className=\"flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-colors group p-2 -m-2 rounded-full hover:bg-blue-50\"\n              >\n                <svg\n                  className=\"w-4 h-4\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                  />\n                </svg>\n                <span className=\"text-sm\">{formatNumber(commentsCount)}</span>\n              </button>\n\n              <button className=\"flex items-center space-x-2 text-gray-500 hover:text-green-500 transition-colors group p-2 -m-2 rounded-full hover:bg-green-50\">\n                <svg\n                  className=\"w-4 h-4\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\"\n                  />\n                </svg>\n                <span className=\"text-sm\">\n                  {formatNumber(post.sharesCount || 0)}\n                </span>\n              </button>\n\n              <button className=\"text-gray-500 hover:text-gray-700 transition-colors p-2 -m-2 rounded-full hover:bg-gray-50\">\n                <svg\n                  className=\"w-4 h-4\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\"\n                  />\n                </svg>\n              </button>\n            </div>\n          )}\n\n          {/* Comments Section */}\n          {showComments && (\n            <Comments\n              postId={post.id}\n              onCommentAdd={handleCommentsUpdate}\n              onCommentDelete={handleCommentDelete}\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2917, "column": 0}, "map": {"version":3,"sources":["file:///Users/aadyasharma/Downloads/iwin-main/app/community/page.js"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { postsService } from \"@/lib/postsService\";\nimport { userService } from \"@/lib/userService\";\nimport Navbar from \"@/components/Navbar\";\nimport CreatePost from \"@/components/community/CreatePost\";\nimport Post from \"@/components/community/Post\";\n\nexport default function Community() {\n  const { user } = useAuth();\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [activeFilter, setActiveFilter] = useState(\"all\");\n  const [lastDoc, setLastDoc] = useState(null);\n  const [hasMore, setHasMore] = useState(true);\n  const [loadingMore, setLoadingMore] = useState(false);\n\n  useEffect(() => {\n    loadPosts(true);\n  }, [activeFilter]);\n\n  const loadPosts = async (isInitial = false) => {\n    if (isInitial) {\n      setLoading(true);\n      setPosts([]);\n      setLastDoc(null);\n      setHasMore(true);\n    } else {\n      setLoadingMore(true);\n    }\n\n    const result = await postsService.getPosts(\n      isInitial ? null : lastDoc,\n      20 // Load more posts since we might filter some out\n    );\n\n    if (result.success) {\n      let filteredPosts = result.posts;\n\n      // If filtering by role, we need to fetch user data and filter\n      if (activeFilter !== \"all\") {\n        const authorIds = [\n          ...new Set(result.posts.map((post) => post.authorId)),\n        ];\n        const usersData = await userService.getUsersData(authorIds);\n\n        filteredPosts = result.posts.filter((post) => {\n          const userData = usersData[post.authorId];\n          return userData?.role === activeFilter;\n        });\n      }\n\n      if (isInitial) {\n        setPosts(filteredPosts);\n      } else {\n        setPosts((prev) => [...prev, ...filteredPosts]);\n      }\n\n      setLastDoc(result.lastDoc);\n      setHasMore(result.posts.length === 20);\n    } else {\n      console.error(\"Error loading posts:\", result.error);\n    }\n\n    setLoading(false);\n    setLoadingMore(false);\n  };\n\n  const handlePostCreated = () => {\n    loadPosts(true);\n  };\n\n  const handlePostUpdate = () => {\n    loadPosts(true);\n  };\n\n  const handlePostDelete = (postId) => {\n    setPosts((prev) => prev.filter((post) => post.id !== postId));\n  };\n\n  const filters = [\n    { key: \"all\", label: \"For you\" },\n    { key: \"patient\", label: \"Patients\" },\n    { key: \"caregiver\", label: \"Caregivers\" },\n    { key: \"medical_professional\", label: \"Medical\" },\n  ];\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen bg-white\">\n        <Navbar />\n        <div className=\"max-w-2xl mx-auto border-x border-gray-200 min-h-screen\">\n          {/* Header */}\n          <div className=\"sticky top-16 bg-white/95 backdrop-blur-xl border-b border-gray-200 z-40\">\n            <div className=\"px-4 py-3\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h1 className=\"text-xl font-bold text-gray-900\">Community</h1>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Sign-in Prompt */}\n          <div className=\"flex items-center justify-center py-20\">\n            <div className=\"text-center max-w-md px-6\">\n              <div className=\"w-20 h-20 bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-6\">\n                <svg\n                  className=\"w-10 h-10 text-white\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\n                  />\n                </svg>\n              </div>\n\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-3\">\n                Join Our Community\n              </h2>\n\n              <p className=\"text-gray-600 mb-8 leading-relaxed\">\n                Connect with patients, caregivers, and medical professionals.\n                Share experiences, get support, and help others on their health\n                journey.\n              </p>\n\n              <div className=\"space-y-3\">\n                <a\n                  href=\"/auth\"\n                  className=\"w-full inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-green-500 to-blue-500 text-white font-medium rounded-xl hover:from-green-600 hover:to-blue-600 transition-all duration-200 shadow-lg hover:shadow-xl\"\n                >\n                  Get Started\n                </a>\n\n                <div className=\"text-sm text-gray-500\">\n                  Already have an account?{\" \"}\n                  <a\n                    href=\"/auth\"\n                    className=\"text-green-600 hover:text-green-700 font-medium\"\n                  >\n                    Sign in\n                  </a>\n                </div>\n              </div>\n\n              {/* Features */}\n              <div className=\"mt-12 grid grid-cols-1 gap-4 text-left\">\n                <div className=\"flex items-start space-x-3 p-4 bg-gray-50 rounded-xl\">\n                  <div className=\"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5\">\n                    <svg\n                      className=\"w-4 h-4 text-green-600\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth={2}\n                        d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                      />\n                    </svg>\n                  </div>\n                  <div>\n                    <h3 className=\"font-medium text-gray-900 text-sm\">\n                      Share & Connect\n                    </h3>\n                    <p className=\"text-gray-600 text-sm\">\n                      Post updates, ask questions, and engage with others\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-start space-x-3 p-4 bg-gray-50 rounded-xl\">\n                  <div className=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5\">\n                    <svg\n                      className=\"w-4 h-4 text-blue-600\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth={2}\n                        d=\"M9 12l2 2 4-4m5.012-3a7.5 7.5 0 11-9.018 9.632M13 12h8m-8 0V4m0 8l4-4-4-4\"\n                      />\n                    </svg>\n                  </div>\n                  <div>\n                    <h3 className=\"font-medium text-gray-900 text-sm\">\n                      Expert Guidance\n                    </h3>\n                    <p className=\"text-gray-600 text-sm\">\n                      Get insights from verified medical professionals\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-start space-x-3 p-4 bg-gray-50 rounded-xl\">\n                  <div className=\"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5\">\n                    <svg\n                      className=\"w-4 h-4 text-purple-600\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth={2}\n                        d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n                      />\n                    </svg>\n                  </div>\n                  <div>\n                    <h3 className=\"font-medium text-gray-900 text-sm\">\n                      Support Network\n                    </h3>\n                    <p className=\"text-gray-600 text-sm\">\n                      Find emotional support and practical advice\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <Navbar />\n\n      {/* Main Content */}\n      <div className=\"max-w-2xl mx-auto border-x border-gray-200 min-h-screen\">\n        {/* Header */}\n        <div className=\"sticky top-16 bg-white/95 backdrop-blur-xl border-b border-gray-200 z-40\">\n          <div className=\"px-4 py-3\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900\">Community</h1>\n              </div>\n            </div>\n          </div>\n\n          {/* Filter Tabs */}\n          <div className=\"px-4 pb-3\">\n            <div className=\"flex space-x-6 overflow-x-auto\">\n              {filters.map((filter) => (\n                <button\n                  key={filter.key}\n                  onClick={() => setActiveFilter(filter.key)}\n                  className={`whitespace-nowrap pb-3 text-sm font-medium transition-colors border-b-2 ${\n                    activeFilter === filter.key\n                      ? \"text-gray-900 border-green-500\"\n                      : \"text-gray-500 hover:text-gray-900 border-transparent hover:border-gray-300\"\n                  }`}\n                >\n                  {filter.label}\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Create Post */}\n        <CreatePost onPostCreated={handlePostCreated} />\n\n        {/* Posts Feed */}\n        <div>\n          {loading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"w-6 h-6 border-2 border-gray-300 border-t-green-500 rounded-full animate-spin\"></div>\n              <span className=\"ml-2 text-gray-500\">Loading posts...</span>\n            </div>\n          ) : posts.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <svg\n                  className=\"w-8 h-8 text-gray-400\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                  />\n                </svg>\n              </div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                No posts yet\n              </h3>\n              <p className=\"text-gray-500\">\n                Be the first to share something with the community!\n              </p>\n            </div>\n          ) : (\n            posts.map((post) => (\n              <Post\n                key={post.id}\n                post={post}\n                onUpdate={handlePostUpdate}\n                onDelete={handlePostDelete}\n              />\n            ))\n          )}\n        </div>\n\n        {/* Load More */}\n        {hasMore && posts.length > 0 && (\n          <div className=\"text-center py-6\">\n            <button\n              onClick={() => loadPosts(false)}\n              disabled={loadingMore}\n              className=\"text-green-600 hover:text-green-700 font-medium text-sm hover:underline disabled:opacity-50\"\n            >\n              {loadingMore ? \"Loading...\" : \"Show more posts\"}\n            </button>\n          </div>\n        )}\n\n        {!hasMore && posts.length > 0 && (\n          <div className=\"text-center py-6 text-gray-500 text-sm\">\n            You&apos;ve reached the end!\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}